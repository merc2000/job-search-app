[{"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\index.js":"1","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\App.js":"2","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\reportWebVitals.js":"3","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\useFetchJobs.js":"4","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\Job.js":"5","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\JobsPagination.js":"6"},{"size":517,"mtime":1608052050066,"results":"7","hashOfConfig":"8"},{"size":865,"mtime":1608458866347,"results":"9","hashOfConfig":"8"},{"size":375,"mtime":1608052050066,"results":"10","hashOfConfig":"8"},{"size":2133,"mtime":1608458806993,"results":"11","hashOfConfig":"8"},{"size":1562,"mtime":1608456289712,"results":"12","hashOfConfig":"8"},{"size":814,"mtime":1608459629232,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"vz3540",{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\index.js",[],["28","29"],"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\App.js",["30"],"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\reportWebVitals.js",[],"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\useFetchJobs.js",["31"],"\r\nimport {useEffect, useReducer} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ACTIONS = {\r\n  MAKE_REQUEST:'make-request',\r\n  GET_DATA:'get-data',\r\n  ERROR:'error',\r\n  UPDATE_HAS_NEXT_PAGE:'update_has_next_page'\r\n};\r\n\r\n//inorder to get around cors we append https://cors-anywhere.herokuapp.com/ infront of the url \r\nconst BASE_URL = 'https://cors-anywhere.herokuapp.com/https://jobs.github.com/positions.json';\r\n\r\nfunction reducer(state,action){\r\n  switch(action.type){\r\n    case ACTIONS.MAKE_REQUEST:\r\n      return {...state,loading:true,jobs:[]}\r\n    case ACTIONS.GET_DATA:\r\n      return {...state,loading:false,jobs:action.payload.jobs};\r\n    case ACTIONS.ERROR:\r\n      return {...state,loading:false,error:action.payload.error,jobs:[]};\r\n    case ACTIONS.UPDATE_HAS_NEXT_PAGE:\r\n      return{...state,hasNextPage:action.payload.hasNextPage}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default function useFetchJobs(params,page){\r\n\r\n  const [state,dispatch] = useReducer(reducer, {jobs:[],loading:true});\r\n  const cancelToken1 = axios.CancelToken.source();// create the source\r\n\r\n  useEffect(()=>{\r\n    dispatch({type:ACTIONS.MAKE_REQUEST});\r\n    axios.get(BASE_URL,{\r\n      //the cancel token\r\n      cancelToken1:cancelToken1.token,\r\n      params:{markdown:true,page:page,...params}\r\n    }).then((res)=>{\r\n      dispatch({type:ACTIONS.GET_DATA , payload:{jobs:res.data}})\r\n    }).catch(e=>{\r\n      if(axios.isCancel(e)) return\r\n      dispatch({type:ACTIONS.ERROR,payload:{error:e}})\r\n    })\r\n\r\n    const cancelToken2 = axios.CancelToken.source();// we have to create seperate token\r\n\r\n    axios.get(BASE_URL,{\r\n      //the cancel token\r\n      cancelToken2:cancelToken2.token,\r\n      params:{markdown:true,page:page+1,...params}\r\n    }).then((res)=>{\r\n      dispatch({type:ACTIONS.UPDATE_HAS_NEXT_PAGE, payload:{hasNextPage:res.data.length!==0}})\r\n    }).catch(e=>{\r\n      if(axios.isCancel(e)) return\r\n      dispatch({type:ACTIONS.ERROR,payload:{error:e}})\r\n    })\r\n\r\n    return()=>{\r\n      cancelToken1.cancel();//the cancel function\r\n      cancelToken2.cancel();\r\n    }\r\n  },[params,page]);\r\n\r\n    return state;\r\n}","C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\Job.js",["32"],"C:\\Users\\merri\\OneDrive\\Desktop\\job-search-app\\src\\JobsPagination.js",[],{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":10,"column":16,"nodeType":"39","messageId":"40","endLine":10,"endColumn":25},{"ruleId":"41","severity":1,"message":"42","line":65,"column":5,"nodeType":"43","endLine":65,"endColumn":18,"suggestions":"44"},{"ruleId":"37","severity":1,"message":"45","line":4,"column":8,"nodeType":"39","messageId":"40","endLine":4,"endColumn":20},"no-native-reassign",["46"],"no-negated-in-lhs",["47"],"no-unused-vars","'setParams' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cancelToken1'. Either include it or remove the dependency array.","ArrayExpression",["48"],"'useFetchJobs' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"49","fix":"50"},"Update the dependencies array to be: [params, page, cancelToken1]",{"range":"51","text":"52"},[2094,2107],"[params, page, cancelToken1]"]